.. Reminder for header structure :
   Niveau 1 : ====================
   Niveau 2 : --------------------
   Niveau 3 : ++++++++++++++++++++
   Niveau 4 : """"""""""""""""""""
   Niveau 5 : ^^^^^^^^^^^^^^^^^^^^

.. meta::
   :description: Configuring the WAPT console
   :keywords: wapt-get.ini, configuration, WAPT, documentation

.. _waptconsole_ini_file:

Configuring the WAPT console
============================

.. hint::

    The configuration file for the WAPT console is stored in
    :file:`C:\\Users\\%username%\\AppData\\Local\\waptconsole\\waptconsole.ini`.
    This file is automatically generated when the :program:`waptconsole`
    is first launched and it is generated from the :file:`wapt-get.ini`
    file configured on the :term:`Administrator`'s workstation.

Several options are available in the ``[global]`` section
of the :file:`waptconsole.ini` file:

.. tabularcolumns:: |\X{5}{12}|\X{7}{12}|

=============================================================================================== ======================================================================================
Options                                                                                         Description
=============================================================================================== ======================================================================================
``wapt_server`` = https://srvwapt.tranquilit.local                                              Address of the WAPT Server.

``repo_url`` = http://srvwapt.tranquilit.local/wapt                                             Address of the main WAPT repository.

``last_usage_report`` = 03/01/2017 18:45:51                                                     Date when the WAPT console was last used.

``http_proxy`` =                                                                                Address of the proxy server in the console.

``use_http_proxy_for_server`` = 0                                                               Use a proxy to connect to the WAPT Server
                                                                                                from the console.

``use_http_proxy_for_repo`` = 0                                                                 Use a proxy to connect to the main WAPT repository
                                                                                                from the console.

``default_package_prefix`` = tis                                                                Prefix used for naming WAPT packages.

``default_sources_root`` = C:\\waptdev                                                          WAPT base package development folder.

``personal_certificate_path`` = C:\\private\\mykey.crt                                          Path to the certificate associated with the
                                                                                                :term:`Administrator`'s private key.

``send_usage_report`` = 1                                                                       Allows the WAPT console to send anonymous
                                                                                                statistics to Tranquil IT.

``language`` = en                                                                               Language of the WAPT console.

``advanced_mode`` = 0                                                                           Launches the console in debug mode.

``verify_cert`` = C:\\Program Files (x86)\\wapt\\ssl\\server\\srvwapt.mydomain.lan.crt          For :ref:`verifying HTTPS certificates <activating_HTTPS_certificate_verification>` .

``waptservice_timeout`` = 2                                                                     Timeout for actions applied to WAPT agents
                                                                                                (ex: :command:`update`).

``enable_external_tools`` = 0                                                                   Displays the actions that call external
                                                                                                applications (RDP, VNC, etc...).

``enable_management_features`` = 0                                                              Displays the button to create self-signed certificates
                                                                                                or to create the WAPT agent's installer.

``hide_unavailable`` = 0                                                                        Hides actions that are not available
                                                                                                for the WAPT agent.

``check_certificates_validity`` = 1                                                             Forces the package certificate's date
                                                                                                and CRL to be verified.

``sign_digests`` = ``sha256,sha1``                                                              List of allowed signature algorithms
                                                                                                for the WAPT packages
=============================================================================================== ======================================================================================

Configuring external repositories
---------------------------------

You may add several external repositories by adding ``[sections]``
in :file:`C:\\Users\\%username%\\AppData\\Local\\waptconsole\\waptconsole.ini`.

Example:

.. code-block:: ini

   [store.wapt.fr]
   repo_url=https://store.wapt.fr/waptdev
   verify_cert=1
   http_proxy=http://srvproxy:8080
   public_certs_dir=
   timeout=2

   [otherwapt.tranquil.it]
   repo_url=https://otherwapt.tranquil.it/waptdev
   verify_cert=0
   http_proxy=
   public_certs_dir=c:\Users\admin\Documents\ssl\otherwapt\
   timeout=2

.. tabularcolumns:: |\X{5}{12}|\X{7}{12}|

===================================================== ===========================================
Options                                               Description
===================================================== ===========================================
``repo_url`` = http://srvwapt.tranquilit.local/wapt   Address of the external WAPT repository.
``http_proxy`` = http://srvproxy:8080                 Address of the proxy to use to access the
                                                      external repository referenced in the ``[section]``.
``verify_cert`` = 1                                   For :ref:`verifying HTTPS certificates
                                                      <activating_HTTPS_certificate_verification>`.
``public_certs_dir`` =                                Folder that contains the certificates used
                                                      to authenticate downloaded external packages.
                                                      If left empty, no verification is performed.
``timeout`` = 2                                       Timeout for the external repository referenced
                                                      in the ``[section]``.
===================================================== ===========================================

Settings for creating WAPT packages
-----------------------------------

.. tabularcolumns:: |\X{5}{12}|\X{7}{12}|

====================================================== ===========================================
Options                                                Description
====================================================== ===========================================
``personal_certificate_path`` = C:\\private\\coder.crt Path to the private key to be used
                                                       to sign packages.
``default_sources_root`` = C:\\waptdev                 WAPT base package development folder.
``default_sources_root_host`` = C:\\waptdev\\hosts     WAPT host package development folder.
``default_package_prefix`` = tis                       Default prefix for new WAPT packages.
``default_sources_suffix`` = wapt                      Default suffix for new WAPT packages.
====================================================== ===========================================
